<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Partitions</TITLE>
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
    
<link rel="icon" href="../logo.svg"></HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<P class="navig"><img src="../logo.svg" class="adaLogo" /><A HREF="RM-TOC.html">Contents</A>&nbsp;&nbsp;&nbsp;<A HREF="RM-0-29.html">Index</A>&nbsp;&nbsp;&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="RM-E.html">Previous</A>&nbsp;&nbsp;&nbsp;<A HREF="RM-E-2.html">Next</A></P>
<div class="main">
<H1> E.1 Partitions</H1>
<DIV Class="Paranum"><FONT SIZE=-2>1</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;The partitions of a distributed program are classified
as either active or passive. </DIV>

<H4 ALIGN=CENTER>Post-Compilation Rules</H4>
<DIV Class="Paranum"><FONT SIZE=-2>2</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;<A NAME="I6693"></A><A NAME="I6694"></A>An <I>active
partition</I> is a partition as defined in <A HREF="RM-10-2.html">10.2</A>.
A <I>passive partition</I> is a partition that has no thread of control
of its own, whose library units are all preelaborated, and whose data
and subprograms are accessible to one or more active partitions. </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>3</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;A passive partition shall include only <FONT FACE="Arial, Helvetica">library_item</FONT>s
that either are declared pure or are shared passive (see <A HREF="RM-10-2-1.html">10.2.1</A>
and <A HREF="RM-E-2-1.html">E.2.1</A>).</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>4</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;An active partition shall be configured on a processing
node. A passive partition shall be configured either on a storage node
or on a processing node.</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>5</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;The configuration of the partitions of a program
onto a distributed system shall be consistent with the possibility for
data references or calls between the partitions implied by their semantic
dependences. <A NAME="I6695"></A>Any reference to data or call of a subprogram
across partitions is called a <I>remote access</I>. </DIV>

<H4 ALIGN=CENTER>Dynamic Semantics</H4>
<DIV Class="Paranum"><FONT SIZE=-2>6</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;<A NAME="I6696"></A>A <FONT FACE="Arial, Helvetica">library_item</FONT>
is elaborated as part of the elaboration of each partition that includes
it. If a normal library unit (see <A HREF="RM-E-2.html">E.2</A>) has
state, then a separate copy of the state exists in each active partition
that elaborates it. The state evolves independently in each such partition.</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>7</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;<A NAME="I6697"></A><A NAME="I6698"></A><A NAME="I6699"></A><A NAME="I6700"></A>An
active partition <I>terminates</I> when its environment task terminates.
A partition becomes <I>inaccessible</I> if it terminates or if it is
<I>aborted</I>. An active partition is aborted when its environment task
is aborted. In addition, if a partition fails during its elaboration,
it becomes inaccessible to other partitions. Other implementation-defined
events can also result in a partition becoming inaccessible. </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>8/1</FONT></DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For a <FONT FACE="Arial, Helvetica">prefix</FONT>
D that denotes a library-level declaration, excepting a declaration of
or within a declared-pure library unit, the following attribute is defined:
</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>9</FONT></DIV>
<DL Class="Hanging"><DT>&nbsp;&nbsp;&nbsp;D'Partition_ID<DD Class="Hanging">
<A NAME="I6701"></A><A NAME="I6702"></A>Denotes a value of the type <I>universal_integer</I>
that identifies the partition in which D was elaborated. If D denotes
the declaration of a remote call interface library unit (see <A HREF="RM-E-2-3.html">E.2.3</A>)
the given partition is the one where the body of D was elaborated. </DL>

<H4 ALIGN=CENTER>Bounded (Run-Time) Errors</H4>
<DIV Class="Paranum"><FONT SIZE=-2>10</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I6703"></A>It is a bounded error for
there to be cyclic elaboration dependences between the active partitions
of a single distributed program. <A NAME="I6704"></A>The possible effects
are deadlock during elaboration, or the raising of Program_Error in one
or all of the active partitions involved. </DIV>

<H4 ALIGN=CENTER>Implementation Permissions</H4>
<DIV Class="Paranum"><FONT SIZE=-2>11</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;An implementation may allow multiple active or
passive partitions to be configured on a single processing node, and
multiple passive partitions to be configured on a single storage node.
In these cases, the scheduling policies, treatment of priorities, and
management of shared resources between these partitions are implementation
defined. </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>12</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;An implementation may allow separate copies of
an active partition to be configured on different processing nodes, and
to provide appropriate interactions between the copies to present a consistent
state of the partition to other active partitions. </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>13</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;In an implementation, the partitions of a distributed
program need not be loaded and elaborated all at the same time; they
may be loaded and elaborated one at a time over an extended period of
time. An implementation may provide facilities to abort and reload a
partition during the execution of a distributed program.</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>14</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;An implementation may allow the state of some
of the partitions of a distributed program to persist while other partitions
of the program terminate and are later reinvoked. </DIV>
<DIV Class="NotesHeader"><FONT SIZE="-1">NOTES</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>15</FONT></DIV>
<DIV Class="Notes"><FONT SIZE="-1">3&nbsp;&nbsp;Library units are grouped
into partitions after compile time, but before run time. At compile time,
only the relevant library unit properties are identified using categorization
pragmas.</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>16</FONT></DIV>
<DIV Class="Notes"><FONT SIZE="-1">4&nbsp;&nbsp;The value returned by
the Partition_ID attribute can be used as a parameter to implementation-provided
subprograms in order to query information about the partition.</FONT></DIV>

</div>
<P><A HREF="RM-TOC.html">Contents</A>&nbsp;&nbsp;&nbsp;<A HREF="RM-0-29.html">Index</A>&nbsp;&nbsp;&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="RM-E.html">Previous</A>&nbsp;&nbsp;&nbsp;<A HREF="RM-E-2.html">Next</A>&nbsp;&nbsp;&nbsp;<A HREF="RM-TTL.html">Legal</A></P>
</BODY>
</HTML>
