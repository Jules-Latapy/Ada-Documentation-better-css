<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Package Specifications and Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
	<link rel="icon" href="../logo.svg">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-7.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-7-2.html">Next</A>&nbsp;
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
</div>
<div class="main">
<H1>7.1 Package Specifications and Declarations</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal">[A package is generally provided in two parts: a 
<SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN> 
and a <SPAN Class="swiss"><A HREF="AA-7-2.html#S0192">package_body</A></SPAN>. 
Every package has a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>, 
but not all packages have a <SPAN Class="swiss"><A HREF="AA-7-2.html#S0192">package_body</A></SPAN>.] 
</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2</a></div>
<div class="Indented1"><SPAN Class="swiss">package_declaration</SPAN><A NAME="I3993"></A><A NAME="S0190"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I3994"></A><SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>;</div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
<SPAN Class="swiss">package_specification</SPAN><A NAME="I3995"></A><A NAME="S0191"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>package</B>&nbsp;<A NAME="I3996"></A><SPAN Class="swiss"><A HREF="AA-6-1.html#S0169">defining_program_unit_name</A></SPAN><span class="insert3"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<A NAME="I3997"></A><SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN>]</span>&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<A NAME="I3998"></A><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>}<BR>
&nbsp;&nbsp;&nbsp;[<B>private</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<A NAME="I3999"></A><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>}]<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;[[<A NAME="I4000"></A><SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0252">parent_unit_name</A></SPAN>.]<A NAME="I4001"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>]</div>
<div class="paranum"><a name="p4">4</a></div>
<div class="Indented1">If an <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0252">parent_unit_name</A></SPAN>.<SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
appears at the end of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>, 
then this sequence of lexical elements shall repeat the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0169">defining_program_unit_name</A></SPAN>. 
</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p5">5/2</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00434.TXT">AI95-00434-01</A></I>} 
<A NAME="I4002"></A><A NAME="I4003"></A>A <SPAN Class="swiss"><A HREF="AA-7-1.html#S0190">package_declaration</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-12-1.html#S0272">generic_package_declaration</A></SPAN> 
requires a completion [(a body)] if it contains any <span class="insert2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN></span><span class="delete2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0087">&nbsp;declarative_item</A></SPAN></span> 
that requires a completion, but whose completion is not in its <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>. 
</div>
<div class="paranum"><a name="p5.a">5.a/3</a></div>
<div class="Annotations"><B>To be honest:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
If an implementation supports it,<span class="delete3">&nbsp;a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Import may substitute for</span> the body of a package or generic package<span class="insert3">&nbsp;may be imported (using aspect Import, see <A HREF="AA-B-1.html">B.1</A>), 
in which case no explicit body is allowed</span>.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p6">6/2</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00420.TXT">AI95-00420-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00434.TXT">AI95-00434-01</A></I>} 
<A NAME="I4004"></A>The first list of <span class="insert2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s</span><span class="delete2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0087">&nbsp;declarative_item</A></SPAN>s</span> 
of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN> 
of a package other than a generic formal package is called the <I>visible 
part</I> of the package. [<A NAME="I4005"></A> The optional list of <span class="insert2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s</span><span class="delete2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0087">&nbsp;declarative_item</A></SPAN>s</span> 
after the reserved word <B>private</B> (of any <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>) 
is called the <I>private part</I> of the package. If the reserved word 
<B>private</B> does not appear, the package has an implicit empty private 
part.]<span class="insert2">&nbsp;Each list of <SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s 
of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN> 
forms a <I>declaration list</I> of the package.<A NAME="I4006"></A></span></div>
<div class="paranum"><a name="p6.a">6.a</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>This definition of visible 
part does not apply to generic formal packages &mdash; <A HREF="AA-12-7.html">12.7</A> 
defines the visible part of a generic formal package.</div>
<div class="paranum"><a name="p6.b">6.b</a></div>
<div class="Annotations">The implicit empty private part is important 
because certain implicit declarations occur there if the package is a 
child package, and it defines types in its visible part that are derived 
from, or contain as components, private types declared within the parent 
package. These implicit declarations are visible in children of the child 
package. See <A HREF="AA-10-1-1.html">10.1.1</A>.&nbsp;</div>
<div class="paranum"><a name="p7">7</a></div>
<div class="Normal">[An entity declared in the private part of a package 
is visible only within the declarative region of the package itself (including 
any child units &mdash; see <A HREF="AA-10-1-1.html">10.1.1</A>). In 
contrast, expanded names denoting entities declared in the visible part 
can be used even outside the package; furthermore, direct visibility 
of such entities can be achieved by means of <SPAN Class="swiss"><A HREF="AA-8-4.html#S0196">use_clause</A></SPAN>s 
(see <A HREF="AA-4-1-3.html">4.1.3</A> and <A HREF="AA-8-4.html">8.4</A>).] 
</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p8">8</a></div>
<div class="Normal"><A NAME="I4007"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0190">package_declaration</A></SPAN> 
consists of the elaboration of its <SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s 
in the given order.&nbsp;</div>
<div class="NotesHeader">NOTES</div>
<div class="paranum"><a name="p9">9</a></div>
<div class="Notes">1&nbsp;&nbsp;The visible part of a package contains 
all the information that another program unit is able to know about the 
package.</div>
<div class="paranum"><a name="p10">10</a></div>
<div class="Notes">2&nbsp;&nbsp;If a declaration occurs immediately within 
the specification of a package, and the declaration has a corresponding 
completion that is a body, then that body has to occur immediately within 
the body of the package.&nbsp;</div>
<div class="paranum"><a name="p10.a">10.a</a></div>
<div class="Annotations"><B>Proof:&nbsp;</B>This follows from the fact that 
the declaration and completion are required to occur immediately within 
the same declarative region, and the fact that <SPAN Class="swiss">bodies</SPAN> 
are disallowed (by the Syntax Rules) in <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>s. 
This does not apply to instances of generic units, whose bodies can occur 
in <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>s. 
</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p11">11</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Example of a package 
declaration:</I>&nbsp;</div>
<div class="paranum"><a name="p12">12</a></div>
<div class="Examples"><B>package</B>&nbsp;Rational_Numbers&nbsp;<B>is</B></div>
<div class="paranum"><a name="p13">13</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Rational&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Numerator&nbsp;&nbsp;&nbsp;:&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Denominator&nbsp;:&nbsp;Positive;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</div>
<div class="paranum"><a name="p14">14</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;=&quot;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Boolean;</div>
<div class="paranum"><a name="p15">15</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;/&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Integer)&nbsp;&nbsp;<B>return</B>&nbsp;Rational;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;to&nbsp;construct&nbsp;a&nbsp;rational&nbsp;number</I></SPAN></div>
<div class="paranum"><a name="p16">16</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;+&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;-&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;*&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;/&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
<B>end</B>&nbsp;Rational_Numbers;</div>
<div class="paranum"><a name="p17">17</a></div>
<div class="Normal">There are also many examples of package declarations 
in the predefined language environment (see <A HREF="AA-A.html">Annex 
A</A>).&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 83</H4>
<div class="paranum"><a name="p17.a">17.a</a></div>
<div class="Annotations"><A NAME="I4008"></A>In Ada 83, a library package 
is allowed to have a body even if it doesn't need one. In Ada 95, a library 
package body is either required or forbidden &mdash; never optional. 
The workaround is to add <B>pragma</B> Elaborate_Body, or something else 
requiring a body, to each library package that has a body that isn't 
otherwise required.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<div class="paranum"><a name="p17.b">17.b/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
We have moved the syntax into this <span class="insert3">subclause</span><span class="delete3">&nbsp;clause</span> 
and the next <span class="insert3">subclause</span><span class="delete3">&nbsp;clause</span> 
from RM83-7.1, &ldquo;Package Structure&rdquo;, which we have removed.</div>
<div class="paranum"><a name="p17.c">17.c</a></div>
<div class="Annotations">RM83 was unclear on the rules about when a package 
requires a body. For example, RM83-7.1(4) and RM83-7.1(8) clearly forgot 
about the case of an incomplete type declared in a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0190">package_declaration</A></SPAN> 
but completed in the body. In addition, RM83 forgot to make this rule 
apply to a generic package. We have corrected these rules. Finally, since 
we now allow a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Import for any explicit declaration, the completion rules need to take 
this into account as well.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum"><a name="p17.d">17.d/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00420.TXT">AI95-00420-01</A></I>} 
<span class="insert2">Defined &ldquo;declaration list&rdquo; to avoid 
ambiguity in other rules as to whether packages are included.</span> 
</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p17.e">17.e/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
<span class="insert3"><A NAME="I4009"></A>An optional <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN> 
can be used in a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>. 
This is described in <A HREF="AA-13-1-1.html">13.1.1</A>.</span>&nbsp;</div>

</div>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-7.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-7-2.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
