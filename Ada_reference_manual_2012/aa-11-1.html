<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Exception Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
	<link rel="icon" href="../logo.svg">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<div class="main">
<H1>11.1 Exception Declarations</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal"><A NAME="I5062"></A>An <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN> 
declares a name for an exception.&nbsp;</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
<SPAN Class="swiss">exception_declaration</SPAN><A NAME="I5063"></A><A NAME="S0264"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I5064"></A><SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0033">defining_identifier_list</A></SPAN>&nbsp;:&nbsp;<B>exception</B><span class="insert3"><BR>
&nbsp;&nbsp;&nbsp;[<A NAME="I5065"></A><SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN>]</span>;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p3">3</a></div>
<div class="Normal">Each single <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN> 
declares a name for a different exception. If a generic unit includes 
an <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN>s 
implicitly generated by different instantiations of the generic unit 
refer to distinct exceptions (but all have the same <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>). 
The particular exception denoted by an exception name is determined at 
compilation time and is the same regardless of how many times the <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN> 
is elaborated.&nbsp;</div>
<div class="paranum"><a name="p3.a">3.a</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>We considered removing this requirement 
inside generic bodies, because it is an implementation burden for implementations 
that wish to share code among several instances. In the end, it was decided 
that it would introduce too much implementation dependence.&nbsp;</div>
<div class="paranum"><a name="p3.b">3.b</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Hence, if an <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN> 
occurs in a recursive subprogram, the exception name denotes the same 
exception for all invocations of the recursive subprogram. The reason 
for this rule is that we allow an exception occurrence to propagate out 
of its declaration's innermost containing master; if exceptions were 
created by their declarations like other entities, they would presumably 
be destroyed upon leaving the master; we would have to do something special 
to prevent them from propagating to places where they no longer exist. 
</div>
<div class="paranum"><a name="p3.c">3.c</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Exception identities are 
unique across all partitions of a program.&nbsp;</div>
<div class="paranum"><a name="p4">4</a></div>
<div class="Normal"><A NAME="I5066"></A><A NAME="I5067"></A><A NAME="I5068"></A><A NAME="I5069"></A><A NAME="I5070"></A>The 
<I>predefined</I> exceptions are the ones declared in the declaration 
of package Standard: Constraint_Error, Program_Error, Storage_Error, 
and Tasking_Error[; one of them is raised when a language-defined check 
fails.]&nbsp;</div>
<div class="paranum"><a name="p4.a">4.a</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>The exceptions declared 
in the language-defined package IO_Exceptions, for example, are not predefined. 
</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p5">5</a></div>
<div class="Normal"><A NAME="I5071"></A>The elaboration of an <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN> 
has no effect.</div>
<div class="paranum"><a name="p6">6</a></div>
<div class="Normal"><A NAME="I5072"></A><A NAME="I5073"></A><A NAME="I5074"></A>The 
execution of any construct raises Storage_Error if there is insufficient 
storage for that execution. <A NAME="I5075"></A>The amount of storage 
needed for the execution of constructs is unspecified.&nbsp;</div>
<div class="paranum"><a name="p6.a">6.a</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Note that any execution 
whatsoever can raise Storage_Error. This allows much implementation freedom 
in storage management.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p7">7</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Examples of user-defined 
exception declarations:</I>&nbsp;</div>
<div class="paranum"><a name="p8">8</a></div>
<div class="Examples">Singular&nbsp;:&nbsp;<B>exception</B>;<BR>
Error&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>exception</B>;<BR>
Overflow,&nbsp;Underflow&nbsp;:&nbsp;<B>exception</B>;</div>

<H4 Class="centered">Inconsistencies With Ada 83</H4>
<div class="paranum"><a name="p8.a">8.a</a></div>
<div class="Annotations"><A NAME="I5076"></A>The exception Numeric_Error 
is now defined in the Obsolescent features Annex, as a rename of Constraint_Error. 
All checks that raise Numeric_Error in Ada 83 instead raise Constraint_Error 
in Ada 95. To increase upward compatibility, we also changed the rules 
to allow the same exception to be named more than once by a given handler. 
Thus, &ldquo;<B>when</B> Constraint_Error | Numeric_Error =&gt;&rdquo; 
will remain legal in Ada 95, even though Constraint_Error and Numeric_Error 
now denote the same exception. However, it will not be legal to have 
separate handlers for Constraint_Error and Numeric_Error. This change 
is inconsistent in the rare case that an existing program explicitly 
raises Numeric_Error at a point where there is a handler for Constraint_Error; 
the exception will now be caught by that handler.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<div class="paranum"><a name="p8.b">8.b</a></div>
<div class="Annotations">We explicitly define elaboration for <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN>s. 
</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p8.c">8.c/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
<span class="insert3"><A NAME="I5077"></A>An optional <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN> 
can be used in a <SPAN Class="swiss"><A HREF="AA-11-1.html#S0264">exception_declaration</A></SPAN>. 
This is described in <A HREF="AA-13-1-1.html">13.1.1</A>.</span>&nbsp;</div>

</div>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
