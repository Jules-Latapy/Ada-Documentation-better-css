<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Categorization of Library Units</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
	<link rel="icon" href="../logo.svg">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-E-1.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-E-2-1.html">Next</A>&nbsp;
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
</div>
<div class="main">
<H1>E.2 Categorization of Library Units</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal">[Library units can be categorized according to the 
role they play in a distributed program. Certain restrictions are associated 
with each category to ensure that the semantics of a distributed program 
remain close to the semantics for a nondistributed program.]</div>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<A NAME="I9089"></A><A NAME="I9090"></A><A NAME="I9091"></A><A NAME="I9092"></A><span class="insert3"><A NAME="I9093"></A></span><A NAME="I9094"></A>A 
<I>categorization pragma</I> is a library unit pragma (see <A HREF="AA-10-1-5.html">10.1.5</A>) 
that <span class="insert3">specifies a corresponding <I>categorization 
aspect</I>. A categorization aspect&nbsp;</span>restricts the declarations, 
child units, or semantic dependences of the library unit to which it 
applies. A <I>categorized library unit</I> is a library unit <span class="insert3">that 
has a categorization aspect that is True</span><span class="delete3">&nbsp;to 
which a categorization pragma applies</span>.</div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
The pragmas Shared_Passive, Remote_Types, and Remote_Call_Interface are 
categorization pragmas<span class="insert3">, and the associated aspects 
are categorization aspects</span>. In addition, for the purposes of this 
Annex, the <span class="insert3">aspect Pure (see <A HREF="AA-10-2-1.html">10.2.1</A>) 
is considered a categorization aspect and the</span> pragma Pure <span class="delete3">(see 
<A HREF="AA-10-2-1.html">10.2.1</A>)&nbsp;</span>is considered a categorization 
pragma.</div>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Normal">{<I><A HREF="defect1.html#8652/0078">8652/0078</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00048.TXT">AI95-00048-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
[<A NAME="I9095"></A> A library package or generic library package is 
called a <I>shared passive</I> library unit if <span class="insert3">the</span><span class="delete3">&nbsp;a</span> 
Shared_Passive <span class="insert3">aspect of the unit is True</span><span class="delete3">&nbsp;pragma 
applies to it</span>. <A NAME="I9096"></A> A library package or generic 
library package is called a <I>remote types</I> library unit if <span class="insert3">the</span><span class="delete3">&nbsp;a</span> 
Remote_Types <span class="insert3">aspect of the unit is True</span><span class="delete3">&nbsp;pragma 
applies to it</span>. <A NAME="I9097"></A> A library <span class="insert1">unit</span><span class="delete1">&nbsp;package 
or generic library package</span> is called a <I>remote call interface</I> 
if <span class="insert3">the</span><span class="delete3">&nbsp;a</span> Remote_Call_Interface 
<span class="insert3">aspect of the unit is True</span><span class="delete3">&nbsp;pragma 
applies to it</span>.] <A NAME="I9098"></A>A <I>normal library unit</I> 
is one <span class="insert3">for</span><span class="delete3">&nbsp;to</span> 
which no categorization <span class="insert3">aspect is True</span><span class="delete3">&nbsp;pragma 
applies</span>.&nbsp;</div>
<div class="paranum"><a name="p4.a">4.a/3</a></div>
<div class="Annotations"><span class="insert3"><B>Proof:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="insert3"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
<span class="insert3">These terms (other than &ldquo;normal library unit&rdquo;) 
are really defined in the following subclauses.</span>&nbsp;</div>
<div class="paranum"><a name="p4.a.1">4.a.1/1</a></div>
<div class="Annotations"><span class="insert1"><B>Ramification:&nbsp;</B></span>{<I><A HREF="defect1.html#8652/0078">8652/0078</A></I>} 
<span class="insert1"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00048.TXT">AI95-00048-01</A></I>} 
<span class="insert1">A library subprogram can be a remote call interface, 
but it cannot be a remote types or shared passive library unit.</span> 
</div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0206-1.TXT">AI05-0206-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0269-1.TXT">AI05-0269-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
[The various categories of library units and the associated restrictions 
are described in this <span class="insert3">and the following</span><span class="delete3">&nbsp;clause 
and its</span> subclauses. The categories are related hierarchically 
in that the library units of one category can depend semantically only 
on library units of that category or an earlier one<span class="insert3">&nbsp;in the hierarchy</span>, except that the body of a remote types or remote 
call interface library unit is unrestricted<span class="insert3">, the 
declaration of a remote types or remote call interface library unit may 
depend on preelaborated normal library units that are mentioned only 
in private with clauses, and all categories can depend on limited views</span>.</div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0269-1.TXT">AI05-0269-1</A></I>} 
The overall hierarchy (including declared pure) is as follows<span class="insert3">, 
with a lower-numbered category being &ldquo;earlier in the hierarchy&rdquo; 
in the sense of the previous paragraph</span>:&nbsp;</div>
<div class="paranum"><a name="p6.1">6.1/3</a></div>
<div class="Enumerated-Term">&nbsp;&nbsp;1.</div><div class="Enumerated-Body">
<span class="insert3">Declared Pure</span></div>
<div class="paranum"><a name="p6.2">6.2/3</a></div>
<div class="Enumerated-Term">&nbsp;&nbsp;2.</div><div class="Enumerated-Body">
<span class="insert3">Shared Passive</span></div>
<div class="paranum"><a name="p6.3">6.3/3</a></div>
<div class="Enumerated-Term">&nbsp;&nbsp;3.</div><div class="Enumerated-Body">
<span class="insert3">Remote Types</span></div>
<div class="paranum"><a name="p6.4">6.4/3</a></div>
<div class="Enumerated-Term">&nbsp;&nbsp;4.</div><div class="Enumerated-Body">
<span class="insert3">Remote Call Interface</span></div>
<div class="paranum"><a name="p6.5">6.5/3</a></div>
<div class="Enumerated-Term">&nbsp;&nbsp;5.</div><div class="Enumerated-Body">
<span class="insert3">Normal (no restrictions)</span>&nbsp;</div>
<div class="Normal"><span class="insert3"><SPAN STYLE="font-size: 80%"><I>Paragraphs 
7 through 11 were deleted.</I></SPAN></span>&nbsp;</div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="delete3">Declared Pure&nbsp;</span></div><div class="WideHanging-Body"><br clear="left">
<span class="delete3">Can depend only on other declared pure library 
units;</span></div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="delete3">Shared Passive&nbsp;</span></div><div class="WideHanging-Body"><br clear="left">
<span class="delete3">Can depend only on other shared passive or declared 
pure library units;</span></div>
<div class="paranum"><a name="p9">9/3</a></div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0206-1.TXT">AI05-0206-1</A></I>} 
<span class="delete3"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="delete3">Remote Types&nbsp;</span></div><div class="WideHanging-Body"><br clear="left">
<span class="delete3">The declaration of the library unit can depend 
only on other remote types library units, or one of the above library 
unit categories, or limited views, or preelaborated normal library units 
that are mentioned only in private with clauses; the body of the library 
unit is unrestricted;</span></div>
<div class="paranum"><a name="p10">10/3</a></div>
<div class="WideHanging-Term">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0206-1.TXT">AI05-0206-1</A></I>} 
<span class="delete3"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="delete3">Remote Call Interface&nbsp;</span></div><div class="WideHanging-Body"><br clear="left">
<span class="delete3">The declaration of the library unit can depend 
only on other remote call interfaces, or one of the above; the body of 
the library unit is unrestricted;</span></div>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="WideHanging-Term">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="delete3">Normal&nbsp;</span></div><div class="WideHanging-Body"><br clear="left">
<span class="delete3">Unrestricted.</span>&nbsp;</div>
<div class="paranum"><a name="p12">12</a></div>
<div class="Normal">Declared pure and shared passive library units are 
preelaborated. The declaration of a remote types or remote call interface 
library unit is required to be preelaborable. ]</div>

<H4 Class="centered">Implementation Requirements</H4>
<div class="paranum"><a name="p13">13/1</a></div>
<div class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0079">8652/0079</A></I>} 
<span class="delete1"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00208.TXT">AI95-00208-01</A></I>} 
<span class="delete1">For a given library-level type declared in a preelaborated 
library unit or in the declaration of a remote types or remote call interface 
library unit, the implementation shall choose the same representation 
for the type upon each elaboration of the type's declaration for different 
partitions of the same program.</span>&nbsp;</div>
<div class="Normal"><span class="insert3"><SPAN STYLE="font-size: 80%"><I>Paragraph 
13 was deleted.</I></SPAN></span>&nbsp;</div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum"><a name="p14">14</a></div>
<div class="Normal">Implementations are allowed to define other categorization 
pragmas.</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum"><a name="p14.a">14.a/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0078">8652/0078</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00048.TXT">AI95-00048-01</A></I>} 
<span class="insert2"><B>Corrigendum:</B> Clarified that a library subprogram 
can be a remote call interface unit.</span></div>
<div class="paranum"><a name="p14.b">14.b/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0079">8652/0079</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00208.TXT">AI95-00208-01</A></I>} 
<span class="insert2"><B>Corrigendum:</B> Removed the requirement that 
types be represented the same in all partitions, because it prevents 
the definition of heterogeneous distributed systems and goes much further 
than required.</span>&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2005</H4>
<div class="paranum"><a name="p14.c">14.c/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0206-1.TXT">AI05-0206-1</A></I>} 
<span class="insert3"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
<span class="insert3">We now allow private withs of preelaborated units 
in Remote Types and Remote Call Interface units; this is documented as 
an extension in the subclauses where this is defined normatively.</span></div>
<div class="paranum"><a name="p14.d">14.d/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0243-1.TXT">AI05-0243-1</A></I>} 
<span class="insert3"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
<span class="insert3">We have introduced categorization aspects; these 
are documented as extensions in the subclauses where they actually are 
defined.</span>&nbsp;</div>

</div>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-E-1.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-E-2-1.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
