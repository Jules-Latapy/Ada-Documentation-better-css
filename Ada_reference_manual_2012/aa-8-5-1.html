<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Object Renaming Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
	<link rel="icon" href="../logo.svg">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-8-5.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-8-5-2.html">Next</A>&nbsp;
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
</div>
<div class="main">
<H1>8.5.1 Object Renaming Declarations</H1>
<div class="paranum"><a name="p1">1</a></div>
<div class="Normal">[An <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN> 
is used to rename an object.]&nbsp;</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
<SPAN Class="swiss">object_renaming_declaration</SPAN><A NAME="I4259"></A><A NAME="S0200"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><span class="insert2"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;</span><A NAME="I4260"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;:&nbsp;<span class="insert2">[<A NAME="I4261"></A><SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>]&nbsp;</span><A NAME="I4262"></A><SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>&nbsp;<B>renames</B>&nbsp;<I>object_</I><A NAME="I4263"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN><span class="insert3"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<A NAME="I4264"></A><SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN>]</span>;<span class="insert2"><BR>
&nbsp;&nbsp;|&nbsp;<A NAME="I4265"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;:&nbsp;<A NAME="I4266"></A><SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>&nbsp;<B>renames</B>&nbsp;<I>object_</I><A NAME="I4267"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN></span><span class="insert3"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<A NAME="I4268"></A><SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN>]</span><span class="insert2">;</span></div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p3">3/2</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00254.TXT">AI95-00254-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
The type of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall resolve to the type determined by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN><span class="insert2">, 
or in the case where the type is defined by an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>, 
to an anonymous access type. If the anonymous access type is an access-to-object 
type, the type of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall have the same designated type as that of the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>. 
If the anonymous access type is an access-to-subprogram type, the type 
of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall have a designated profile that is type conformant with that of 
the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN></span>.</div>
<div class="paranum"><a name="p3.a">3.a</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Reason:&nbsp;</B>A 
previous version of Ada 9X used the usual &ldquo;expected type&rdquo; 
wording:<BR>
&ldquo;The expected type for the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
is that determined by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>.&rdquo;<BR>
We changed it so that this would be illegal:&nbsp;</div>
<div class="paranum"><a name="p3.b">3.b</a></div>
<div class="SmallExamples">X:&nbsp;T;<BR>
Y:&nbsp;T'Class&nbsp;<B>renames</B>&nbsp;X;&nbsp;--<SPAN Class="roman"><I>&nbsp;Illegal!</I></SPAN></div>
<div class="paranum"><a name="p3.c">3.c</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">When the above 
was legal, it was unclear whether Y was of type T or T'Class. Note that 
we still allow this:&nbsp;</div>
<div class="paranum"><a name="p3.d">3.d</a></div>
<div class="SmallExamples">Z:&nbsp;T'Class&nbsp;:=&nbsp;...;<BR>
W:&nbsp;T&nbsp;<B>renames</B>&nbsp;F(Z);</div>
<div class="paranum"><a name="p3.e">3.e</a></div>
<div class="Annotations">where F is a function with a controlling parameter 
and result. This is admittedly a bit odd.</div>
<div class="paranum"><a name="p3.f">3.f</a></div>
<div class="Annotations">Note that the matching rule for generic formal 
parameters of mode <B>in out</B> was changed to keep it consistent with 
the rule for renaming. That makes the rule different for <B>in</B> vs. 
<B>in out</B>.</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p4">4</a></div>
<div class="Normal">The renamed entity shall be an object.</div>
<div class="paranum"><a name="p4.1">4.1/2</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<span class="insert2">In the case where the type is defined by an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>, 
the type of the renamed object and the type defined by the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>:</span> 
</div>
<div class="paranum"><a name="p4.2">4.2/2</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<span class="insert2">shall both be access-to-object types with statically 
matching designated subtypes and with both or neither being access-to-constant 
types; or <A NAME="I4269"></A></span></div>
<div class="paranum"><a name="p4.3">4.3/2</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<span class="insert2">shall both be access-to-subprogram types with subtype 
conformant designated profiles. <A NAME="I4270"></A></span></div>
<div class="paranum"><a name="p4.4">4.4/2</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<span class="insert2">For an <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN> 
with a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN> 
that has a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>:</span></div>
<div class="paranum"><a name="p4.5">4.5/2</a></div>
<div class="Bulleted"><span class="insert2">if the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denotes a generic formal object of a generic unit <I>G</I>, and the <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN> 
occurs within the body of <I>G</I> or within the body of a generic unit 
declared within the declarative region of <I>G</I>, then the declaration 
of the formal object of <I>G</I> shall have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>;</span></div>
<div class="paranum"><a name="p4.6">4.6/2</a></div>
<div class="Bulleted"><span class="insert2">otherwise, the subtype of 
the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall exclude null. <A NAME="I4271"></A>In addition to the places where 
Legality Rules normally apply (see <A HREF="AA-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit.</span></div>
<div class="paranum"><a name="p4.a">4.a/2</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><span class="insert2"><B>Reason: 
</B>This rule prevents &ldquo;lying&rdquo;. <B>Null</B> must never be 
the value of an object with an explicit <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>. 
The first bullet is an assume-the-worst rule which prevents trouble in 
one obscure case:</span>&nbsp;</div>
<div class="paranum"><a name="p4.b">4.b/2</a></div>
<div class="SmallExamples"><span class="insert2"><B>type</B>&nbsp;Acc_I&nbsp;<B>is&nbsp;access</B>&nbsp;Integer;<BR>
<B>subtype</B>&nbsp;Acc_NN_I&nbsp;<B>is&nbsp;not&nbsp;null</B>&nbsp;Acc_I;<BR>
Obj&nbsp;:&nbsp;Acc_I&nbsp;:=&nbsp;<B>null</B>;</span></div>
<div class="paranum"><a name="p4.c">4.c/2</a></div>
<div class="SmallExamples"><span class="insert2"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;B&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Acc_NN_I;<BR>
<B>package</B>&nbsp;Gen&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;...<BR>
<B>end</B>&nbsp;Gen;</span></div>
<div class="paranum"><a name="p4.d">4.d/2</a></div>
<div class="SmallExamples"><span class="insert2"><B>package&nbsp;body</B>&nbsp;Gen&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;D&nbsp;:&nbsp;<B>not&nbsp;null</B>&nbsp;Acc_I&nbsp;<B>renames</B>&nbsp;B;<BR>
<B>end</B>&nbsp;Gen;</span></div>
<div class="paranum"><a name="p4.e">4.e/2</a></div>
<div class="SmallExamples"><span class="insert2"><B>package</B>&nbsp;Inst&nbsp;<B>is&nbsp;new</B>&nbsp;Gen&nbsp;(B&nbsp;=&gt;&nbsp;Obj);</span></div>
<div class="paranum"><a name="p4.f">4.f/2</a></div>
<div class="Annotations"><span class="insert2">Without the first bullet 
rule, D would be legal, and contain the value <B>null</B>, because the 
rule about lying is satisfied for generic matching (Obj matches B; B 
does not explicitly state <B>not null</B>), Legality Rules are not rechecked 
in the body of any instance, and the template passes the lying rule as 
well. The rule is so complex because it has to apply to formals used 
in bodies of child generics as well as in the bodies of generics.</span> 
</div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Normal">{<I><A HREF="defect1.html#8652/0017">8652/0017</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00184.TXT">AI95-00184-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0008-1.TXT">AI05-0008-1</A></I>} 
The renamed entity shall not be a subcomponent that depends on discriminants 
of <span class="insert3">an object</span><span class="delete3">&nbsp;a variable</span> 
whose nominal subtype is unconstrained<span class="delete3">,</span> 
unless <span class="insert3">the object is known to be constrained</span><span class="delete3">&nbsp;this 
subtype is indefinite, or the variable is&nbsp;</span><span class="insert2"><span class="delete3">constrained 
by its initial value</span></span><span class="delete3"></span><span class="delete2">&nbsp;aliased</span><span class="delete3"></span>. 
A <SPAN Class="swiss"><A HREF="AA-4-1-2.html#S0097">slice</A></SPAN> 
of an array shall not be renamed if this restriction disallows renaming 
of the array. <span class="insert1"><A NAME="I4272"></A>In addition to 
the places where Legality Rules normally apply, these rules apply also 
in the private part of an instance of a generic unit.</span><span class="insert1"><span class="delete3">&nbsp;These rules also apply for a renaming that appears in the body of a generic 
unit, with the additional requirement that even if the nominal subtype 
of the variable is indefinite, its type shall not be a descendant of 
an untagged generic formal derived type.</span></span><span class="insert1"></span></div>
<div class="paranum"><a name="p5.a">5.a</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>This prevents renaming of subcomponents 
that might disappear, which might leave dangling references. Similar 
restrictions exist for the Access attribute.</div>
<div class="paranum"><a name="p5.a.1">5.a.1/3</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">{<I><A HREF="defect1.html#8652/0017">8652/0017</A></I>} 
<span class="insert1"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00184.TXT">AI95-00184-01</A></I>} 
<span class="insert1"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0008-1.TXT">AI05-0008-1</A></I>} 
<span class="insert1">The &ldquo;recheck on instantiation&rdquo;&nbsp;</span><span class="insert3">requirement</span><span class="insert1"></span><span class="insert1"><span class="delete3">&nbsp;and 
&ldquo;assume-the-worst in the body&rdquo; restrictions</span></span><span class="insert1">&nbsp;on generics&nbsp;</span><span class="insert3">is</span><span class="insert1"></span><span class="insert1"><span class="delete3">&nbsp;are</span></span><span class="insert1">&nbsp;necessary to avoid renaming of components which could disappear even 
when the nominal subtype would prevent the problem:</span></div>
<div class="paranum"><a name="p5.a.2">5.a.2/1</a></div>
<div class="SmallExamples"><span class="insert1"><B>type</B>&nbsp;T1&nbsp;(D1&nbsp;:&nbsp;Boolean)&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>case</B>&nbsp;D1&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>when</B>&nbsp;False&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C1&nbsp;:&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>when</B>&nbsp;True&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>null</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>case</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</span></div>
<div class="paranum"><a name="p5.a.3">5.a.3/1</a></div>
<div class="SmallExamples"><span class="insert1"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;F&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;T1;<BR>
&nbsp;&nbsp;&nbsp;X&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;F;<BR>
<B>package</B>&nbsp;G&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;C1_Ren&nbsp;:&nbsp;Integer&nbsp;<B>renames</B>&nbsp;X.C1;<BR>
<B>end</B>&nbsp;G;</span></div>
<div class="paranum"><a name="p5.a.4">5.a.4/1</a></div>
<div class="SmallExamples"><span class="insert1"><B>type</B>&nbsp;T2&nbsp;(D2&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;False)&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;T1&nbsp;(D1&nbsp;=&gt;&nbsp;D2);<BR>
<BR>
Y&nbsp;:&nbsp;T2;<BR>
<BR>
<B>package</B>&nbsp;I&nbsp;<B>is&nbsp;new</B>&nbsp;G&nbsp;(T2,&nbsp;Y);<BR>
<BR>
Y&nbsp;:=&nbsp;(D1&nbsp;=&gt;&nbsp;True);&nbsp;--&nbsp;<SPAN Class="roman"><I>Oops!&nbsp;&nbsp;What&nbsp;happened&nbsp;to&nbsp;I.C1_Ren?</I></SPAN></span></div>
<div class="paranum"><a name="p5.a.5">5.a.5/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0008-1.TXT">AI05-0008-1</A></I>} 
<span class="insert3">In addition, the &ldquo;known to be constrained&rdquo; 
rules include assume-the-worst rules for generic bodies partially to 
prevent such problems.</span></div>
<div class="paranum"><a name="p5.b">5.b</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>Note that if an 
implementation chooses to deallocate-then-reallocate on <SPAN Class="swiss"><A HREF="AA-5-2.html#S0152">assignment_statement</A></SPAN>s 
assigning to unconstrained definite objects, then it cannot represent 
renamings and access values as simple addresses, because the above rule 
does not apply to all components of such an object.&nbsp;</div>
<div class="paranum"><a name="p5.c">5.c</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>If it is a generic formal 
object, then the assume-the-best or assume-the-worst rules are applied 
as appropriate.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p6">6/2</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
An <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN> 
declares a new view [of the renamed object] whose properties are identical 
to those of the renamed view. [Thus, the properties of the renamed object 
are not affected by the <SPAN Class="swiss"><A HREF="AA-8-5.html#S0199">renaming_declaration</A></SPAN>. 
In particular, its value and whether or not it is a constant are unaffected; 
similarly, the<span class="insert2">&nbsp;null exclusion or</span> constraints 
that apply to an object are not affected by renaming (any constraint 
implied by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN> 
<span class="insert2">or <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN> 
</span>of the <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN> 
is ignored).]&nbsp;</div>
<div class="paranum"><a name="p6.a">6.a</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>Because the constraints are 
ignored, it is a good idea to use the nominal subtype of the renamed 
object when writing an <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN>.</div>
<div class="paranum"><a name="p6.b">6.b/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<span class="insert2">If no <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN> 
is given in the renaming, the object may or may not exclude null. This 
is similar to the way that constraints need not match, and <B>constant</B> 
is not specified. The renaming defines a view of the renamed entity, 
inheriting the original properties.</span>&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p7">7</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Example of renaming 
an object:</I>&nbsp;</div>
<div class="paranum"><a name="p8">8</a></div>
<div class="Examples"><B>declare</B><BR>
&nbsp;&nbsp;&nbsp;L&nbsp;:&nbsp;Person&nbsp;<B>renames</B>&nbsp;Leftmost_Person;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-3-10-1.html">3.10.1</A></I></SPAN><BR>
<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;L.Age&nbsp;:=&nbsp;L.Age&nbsp;+&nbsp;1;<BR>
<B>end</B>;</div>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<div class="paranum"><a name="p8.a">8.a</a></div>
<div class="Annotations">The phrase &ldquo;subtype ... as defined in 
a corresponding object declaration, component declaration, or component 
subtype indication,&rdquo; from RM83-8.5(5), is incorrect in Ada 95; 
therefore we removed it. It is incorrect in the case of an object with 
an indefinite unconstrained nominal subtype.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 95</H4>
<div class="paranum"><a name="p8.b">8.b/2</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
<span class="insert2"><A NAME="I4273"></A>Aliased variables are not necessarily 
constrained in Ada 2005 (see <A HREF="AA-3-6.html">3.6</A>). Therefore, 
a subcomponent of an aliased variable may disappear or change shape, 
and renaming such a subcomponent thus is illegal, while the same operation 
would have been legal in Ada 95. Note that most allocated objects are 
still constrained by their initial value (see <A HREF="AA-4-8.html">4.8</A>), 
and thus have no change in the legality of renaming for them. For example, 
using the type T2 of the previous example:</span>&nbsp;</div>
<div class="paranum"><a name="p8.c">8.c/2</a></div>
<div class="SmallExamples"><span class="insert2">&nbsp;&nbsp;&nbsp;AT2&nbsp;:&nbsp;<B>aliased</B>&nbsp;T2;<BR>
&nbsp;&nbsp;&nbsp;C1_Ren&nbsp;:&nbsp;Integer&nbsp;<B>renames</B>&nbsp;AT2.C1;&nbsp;--&nbsp;<SPAN Class="roman"><I>Illegal&nbsp;in&nbsp;Ada&nbsp;2005,&nbsp;legal&nbsp;in&nbsp;Ada&nbsp;95</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;AT2&nbsp;:=&nbsp;(D1&nbsp;=&gt;&nbsp;True);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Raised&nbsp;Constraint_Error&nbsp;in&nbsp;Ada&nbsp;95,</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>but&nbsp;does&nbsp;not&nbsp;in&nbsp;Ada&nbsp;2005,&nbsp;so&nbsp;C1_Ren&nbsp;becomes</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>invalid&nbsp;when&nbsp;this&nbsp;is&nbsp;assigned.</I></SPAN></span></div>

<H4 Class="centered">Extensions to Ada 95</H4>
<div class="paranum"><a name="p8.d">8.d/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00254.TXT">AI95-00254-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<span class="insert2"><A NAME="I4274"></A>A renaming can have an anonymous 
access type. In that case, the accessibility of the renaming is that 
of the original object (accessibility is not lost as it is for assignment 
to a component or stand-alone object).</span></div>
<div class="paranum"><a name="p8.e">8.e/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<span class="insert2">A renaming can have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>; 
if so, the renamed object must also exclude null, so that the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN> 
does not lie. On the other hand, if the renaming does not have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>. 
it excludes null if the renamed object does.</span>&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum"><a name="p8.f">8.f/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0017">8652/0017</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00184.TXT">AI95-00184-01</A></I>} 
<span class="insert2"><B>Corrigendum:</B> Fixed to forbid renamings of 
depends-on-discriminant components if the type <I>might</I> be definite.</span> 
</div>

<H4 Class="centered">Incompatibilities With Ada 2005</H4>
<div class="paranum"><a name="p8.g">8.g/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0008-1.TXT">AI05-0008-1</A></I>} 
<span class="insert3"><A NAME="I4275"></A><B>Correction:</B> Simplified 
the description of when a discriminant-dependent component is allowed 
to be renamed &mdash; it's now simply when the object is known to be 
constrained. This fixes a confusion as to whether a subcomponent of an 
object that is not certain to be constrained can be renamed. The fix 
introduces an incompatibility, as the rule did not apply in Ada 95 if 
the prefix was a constant; but it now applies no matter what kind of 
object is involved. The incompatibility is not too bad, since most kinds 
of constants are known to be constrained.</span>&nbsp;</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p8.h">8.h/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
<span class="insert3"><A NAME="I4276"></A>An optional <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0306">aspect_specification</A></SPAN> 
can be used in an <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0200">object_renaming_declaration</A></SPAN>. 
This is described in <A HREF="AA-13-1-1.html">13.1.1</A>.</span>&nbsp;</div>

</div>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-8-5.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-8-5-2.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
