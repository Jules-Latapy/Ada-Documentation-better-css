<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Change of Representation</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
	<link rel="icon" href="../logo.svg">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-13-5-3.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-13-7.html">Next</A>&nbsp;
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
</div>
<div class="main">
<H1>13.6 Change of Representation</H1>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
[<A NAME="I5767"></A> <A NAME="I5768"></A>A <SPAN Class="swiss"><A HREF="AA-4-6.html#S0141">type_conversion</A></SPAN> 
(see <A HREF="AA-4-6.html">4.6</A>) can be used to convert between two 
different representations of the same array or record. To convert an 
array from one representation to another, two array types need to be 
declared with matching component subtypes, and convertible index types. 
If one type has <span class="insert3">Pack</span><span class="delete3">&nbsp;packing</span> 
specified and the other does not, then explicit conversion can be used 
to pack or unpack an array.</div>
<div class="paranum"><a name="p2">2</a></div>
<div class="Normal">To convert a record from one representation to another, 
two record types with a common ancestor type need to be declared, with 
no inherited subprograms. Distinct representations can then be specified 
for the record types, and explicit conversion between the types can be 
used to effect a change in representation.]&nbsp;</div>
<div class="paranum"><a name="p2.a">2.a</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>This technique does not 
work if the first type is an untagged type with user-defined primitive 
subprograms. It does not work at all for tagged types.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p3">3</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Example of change 
of representation:</I>&nbsp;</div>
<div class="paranum"><a name="p4">4</a></div>
<div class="Examples">--<SPAN Class="roman"><I>&nbsp;Packed_Descriptor&nbsp;and&nbsp;Descriptor&nbsp;are&nbsp;two&nbsp;different&nbsp;types</I></SPAN><BR>
--<SPAN Class="roman"><I>&nbsp;with&nbsp;identical&nbsp;characteristics,&nbsp;apart&nbsp;from&nbsp;their</I></SPAN><BR>
--<SPAN Class="roman"><I>&nbsp;representation</I></SPAN></div>
<div class="paranum"><a name="p5">5</a></div>
<div class="Examples"><B>type</B>&nbsp;Descriptor&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;components&nbsp;of&nbsp;a&nbsp;descriptor</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</div>
<div class="paranum"><a name="p6">6</a></div>
<div class="Examples"><B>type</B>&nbsp;Packed_Descriptor&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;Descriptor;</div>
<div class="paranum"><a name="p7">7</a></div>
<div class="Examples"><B>for</B>&nbsp;Packed_Descriptor&nbsp;<B>use</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;component&nbsp;clauses&nbsp;for&nbsp;some&nbsp;or&nbsp;for&nbsp;all&nbsp;components</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</div>
<div class="paranum"><a name="p8">8</a></div>
<div class="Examples"><SPAN Class="roman"><I>--&nbsp;Change&nbsp;of&nbsp;representation&nbsp;can&nbsp;now&nbsp;be&nbsp;accomplished&nbsp;by&nbsp;explicit&nbsp;type&nbsp;conversions:</I></SPAN></div>
<div class="paranum"><a name="p9">9</a></div>
<div class="Examples">D&nbsp;:&nbsp;Descriptor;<BR>
P&nbsp;:&nbsp;Packed_Descriptor;</div>
<div class="paranum"><a name="p10">10</a></div>
<div class="Examples">P&nbsp;:=&nbsp;Packed_Descriptor(D);&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;pack&nbsp;D</I></SPAN><BR>
D&nbsp;:=&nbsp;Descriptor(P);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;unpack&nbsp;P</I></SPAN></div>

</div>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-13-5-3.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-13-7.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
