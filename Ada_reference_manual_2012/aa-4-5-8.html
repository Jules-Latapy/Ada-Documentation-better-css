<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Quantified Expressions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
<link rel="icon" href="../logo.svg"></HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV class="enTete"><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig" style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="aa-TOC.html">Contents</A>&nbsp;
<img src="../logo.svg" class="adaLogo" />&nbsp;<A HREF="aa-0-5.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="aa-4-5-7.html">Previous</A>&nbsp;
&nbsp;<A HREF="aa-4-6.html">Next</A>&nbsp;
</div>
<div class="main">
<H1>4.5.8 Quantified Expressions</H1>
<div class="paranum"><a name="p0.1">0.1/4</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
Quantified expressions provide a way to write universally and existentially 
quantified predicates over containers and arrays.</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
<SPAN Class="swiss">quantified_expression</SPAN><A NAME="I3135"></A><A NAME="S0138"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><B>for</B>&nbsp;<A NAME="I3136"></A><SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0139">quantifier</A></SPAN>&nbsp;<A NAME="I3137"></A><SPAN Class="swiss"><A HREF="aa-5-5.html#S0158">loop_parameter_specification</A></SPAN>&nbsp;=&gt;&nbsp;<A NAME="I3138"></A><SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN><BR>
&nbsp;&nbsp;|&nbsp;<B>for</B>&nbsp;<A NAME="I3139"></A><SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0139">quantifier</A></SPAN>&nbsp;<A NAME="I3140"></A><SPAN Class="swiss"><A HREF="aa-5-5-2.html#S0159">iterator_specification</A></SPAN>&nbsp;=&gt;&nbsp;<A NAME="I3141"></A><SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN></div>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Indented1"><SPAN Class="swiss">quantifier</SPAN><A NAME="I3142"></A><A NAME="S0139"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><B>all</B>&nbsp;|&nbsp;<B>some</B></div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Indented1"><SPAN Class="swiss">predicate</SPAN><A NAME="I3143"></A><A NAME="S0140"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><I>boolean_</I><A NAME="I3144"></A><SPAN Class="swiss"><A HREF="aa-4-4.html#S0117">expression</A></SPAN></div>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
Wherever the Syntax Rules allow an <SPAN Class="swiss"><A HREF="aa-4-4.html#S0117">expression</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
may be used in place of the <SPAN Class="swiss"><A HREF="aa-4-4.html#S0117">expression</A></SPAN>, 
so long as it is immediately surrounded by parentheses.</div>
<div class="paranum"><a name="p4.a">4.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>The syntactic category <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
appears only as a <SPAN Class="swiss"><A HREF="aa-4-4.html#S0126">primary</A></SPAN> 
that is parenthesized. The above rule allows it to additionally be used 
in other contexts where it would be directly surrounded by parentheses. 
This is the same rule that is used for <SPAN Class="swiss"><A HREF="aa-4-5-7.html#S0133">conditional_expression</A></SPAN>s; 
see <A HREF="aa-4-5-7.html">4.5.7</A> for a detailed discussion of the 
meaning and effects of this rule.&nbsp;</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
<A NAME="I3145"></A>The expected type of a <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
is any Boolean type. The <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
is expected to be of the same type.<A NAME="I3146"></A>&nbsp;</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p6">6/4</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
For the evaluation of a <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="aa-5-5.html#S0158">loop_parameter_specification</A></SPAN> 
or <SPAN Class="swiss"><A HREF="aa-5-5-2.html#S0159">iterator_specification</A></SPAN> 
is first elaborated. The evaluation of a <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
then evaluates the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN> 
for the values of the loop parameter in the order specified by the <SPAN Class="swiss"><A HREF="aa-5-5.html#S0158">loop_parameter_specification</A></SPAN> 
(see <A HREF="aa-5-5.html">5.5</A>) or <SPAN Class="swiss"><A HREF="aa-5-5-2.html#S0159">iterator_specification</A></SPAN> 
(see <A HREF="aa-5-5-2.html">5.5.2</A>).<A NAME="I3147"></A></div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
The value of the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
is determined as follows:</div>
<div class="paranum"><a name="p8">8/4</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
If the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0139">quantifier</A></SPAN> 
is <B>all</B>, the expression is False if the evaluation of any <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN> 
yields False; evaluation of the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
stops at that point. Otherwise (every predicate has been evaluated and 
yielded True), the expression is True. Any exception raised by evaluation 
of the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN> 
is propagated.</div>
<div class="paranum"><a name="p8.a">8.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>The <SPAN Class="swiss"><A HREF="aa-4-4.html#S0117">expression</A></SPAN> 
is True if the domain contains no values.&nbsp;</div>
<div class="paranum"><a name="p9">9/4</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
If the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0139">quantifier</A></SPAN> 
is <B>some</B>, the expression is True if the evaluation of any <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN> 
yields True; evaluation of the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0138">quantified_expression</A></SPAN> 
stops at that point. Otherwise (every predicate has been evaluated and 
yielded False), the expression is False. Any exception raised by evaluation 
of the <SPAN Class="swiss"><A HREF="aa-4-5-8.html#S0140">predicate</A></SPAN> 
is propagated.</div>
<div class="paranum"><a name="p9.a">9.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>The <SPAN Class="swiss"><A HREF="aa-4-4.html#S0117">expression</A></SPAN> 
is False if the domain contains no values.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p10">10/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
The postcondition for a sorting routine on an array A with an index subtype 
T can be written:</div>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="Examples">Post&nbsp;=&gt;&nbsp;(A'Length&nbsp;&lt;&nbsp;2&nbsp;<B>or&nbsp;else</B><BR>
&nbsp;&nbsp;&nbsp;(<B>for&nbsp;all</B>&nbsp;I&nbsp;<B>in</B>&nbsp;A'First&nbsp;..&nbsp;T'Pred(A'Last)&nbsp;=&gt;&nbsp;A&nbsp;(I)&nbsp;&lt;=&nbsp;A&nbsp;(T'Succ&nbsp;(I))))</div>
<div class="paranum"><a name="p12">12/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
The assertion that a positive number is composite (as opposed to prime) 
can be written:</div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Examples"><B>pragma</B>&nbsp;Assert&nbsp;(<B>for&nbsp;some</B>&nbsp;X&nbsp;<B>in</B>&nbsp;2&nbsp;..&nbsp;N&nbsp;/&nbsp;2&nbsp;=&gt;&nbsp;N&nbsp;<B>mod</B>&nbsp;X&nbsp;=&nbsp;0);</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p13.a">13.a/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0176-1.TXT">AI05-0176-1</A></I>} 
<A NAME="I3148"></A>Quantified expressions are new.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2012</H4>
<div class="paranum"><a name="p13.b">13.b/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0158-1.TXT">AI12-0158-1</A></I>} 
<B>Corrigendum:</B> Revised the wording to make it clear that the semantics 
is short-circuited, and what the result is when there are no values for 
the loop parameter.&nbsp;</div>

</div>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="aa-TOC.html">Contents</A>&nbsp;
<img src="../logo.svg" class="adaLogo" />&nbsp;<A HREF="aa-0-5.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="aa-4-5-7.html">Previous</A>&nbsp;
&nbsp;<A HREF="aa-4-6.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
