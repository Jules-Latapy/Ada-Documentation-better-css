<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Package Environment_Variables</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
	<link rel="icon" href="../logo.svg">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-A-16-1.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-A-18.html">Next</A>&nbsp;
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
<img SRC="../logo.svg" class="adaLogo">
</div>
<div class="main">
<H1>A.17 <span class="insert2">The Package Environment_Variables</span><span class="delete2"></span></H1>
<div class="paranum"><a name="p1">1/2</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"><A NAME="I7468"></A>The package Environment_Variables 
allows a program to read or modify environment variables. Environment 
variables are name-value pairs, where both the name and value are strings. 
The definition of what constitutes an <I>environment variable</I>, and 
the meaning of the name and value, are implementation defined.</span> 
</div>
<div class="paranum"><a name="p1.a">1.a/2</a></div>
<div class="Annotations"><span class="insert2"><B>Implementation defined: 
</B></span><span class="insert2">The definition and meaning of an environment 
variable.</span></div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p2">2/2</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2">The library package Environment_Variables has the 
following declaration:</span>&nbsp;</div>
<div class="paranum"><a name="p3">3/2</a></div>
<div class="Examples"><span class="insert2"><B>package</B>&nbsp;Ada.Environment_Variables&nbsp;<B>is</B><A NAME="I7469"></A><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Preelaborate(Environment_Variables);</span></div>
<div class="paranum"><a name="p4">4/2</a></div>
<div class="Examples"><span class="insert2">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I7470"></A>Value&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;String;</span></div>
<div class="paranum"><a name="p4.1">4.1/3</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0285-1.TXT">AI05-0285-1</A></I>} 
<span class="insert3">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I7471"></A>Value&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Default&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;String;</span></div>
<div class="paranum"><a name="p5">5/2</a></div>
<div class="Examples"><span class="insert2">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I7472"></A>Exists&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;Boolean;</span></div>
<div class="paranum"><a name="p6">6/2</a></div>
<div class="Examples"><span class="insert2">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I7473"></A>Set&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String);</span></div>
<div class="paranum"><a name="p7">7/2</a></div>
<div class="Examples"><span class="insert2">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I7474"></A>Clear&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String);<BR>
&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I7475"></A>Clear;</span></div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
<span class="insert2">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I7476"></A>Iterate</span><span class="insert2"><span class="delete3">&nbsp;(</span></span><span class="insert2"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="insert3">(</span><span class="insert2"></span><span class="insert2"><span class="delete3">&nbsp;</span></span><span class="insert2">Process&nbsp;:&nbsp;<B>not&nbsp;null&nbsp;access&nbsp;procedure</B>&nbsp;(Name,&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String));</span></div>
<div class="paranum"><a name="p9">9/2</a></div>
<div class="Examples" style="margin-bottom: 0.9em"><span class="insert2"><B>end</B>&nbsp;Ada.Environment_Variables;</span></div>
<div class="paranum"><a name="p10">10/2</a></div>
<div class="Examples"><span class="insert2"><B>function</B>&nbsp;Value&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;String;</span></div>
<div class="paranum"><a name="p11">11/2</a></div>
<div class="Indented2" style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2">If the external execution environment supports 
environment variables, then Value returns the value of the environment 
variable with the given name. If no environment variable with the given 
name exists, then Constraint_Error is propagated. If the execution environment 
does not support environment variables, then Program_Error is propagated.</span></div>
<div class="paranum"><a name="p11.1">11.1/3</a></div>
<div class="Examples"><span class="insert3"><B>function</B>&nbsp;Value&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Default&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;String;</span></div>
<div class="paranum"><a name="p11.2">11.2/3</a></div>
<div class="Indented2" style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0285-1.TXT">AI05-0285-1</A></I>} 
<span class="insert3">If the external execution environment supports 
environment variables and an environment variable with the given name 
currently exists, then Value returns its value; otherwise, it returns 
Default.</span></div>
<div class="paranum"><a name="p12">12/2</a></div>
<div class="Examples"><span class="insert2"><B>function</B>&nbsp;Exists&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;Boolean;</span></div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Indented2" style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0264-1.TXT">AI05-0264-1</A></I>} 
<span class="insert2">If the external execution environment supports 
environment variables and an environment variable with the given name 
currently exists, then Exists returns True; otherwise</span><span class="insert3">,</span><span class="insert2">&nbsp;it returns False.</span></div>
<div class="paranum"><a name="p14">14/2</a></div>
<div class="Examples"><span class="insert2"><B>procedure</B>&nbsp;Set&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String);</span></div>
<div class="paranum"><a name="p15">15/3</a></div>
<div class="Indented2">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0264-1.TXT">AI05-0264-1</A></I>} 
<span class="insert2">If the external execution environment supports 
environment variables, then Set first clears any existing environment 
variable with the given name, and then defines a single new environment 
variable with the given name and value. Otherwise</span><span class="insert3">,</span><span class="insert2">&nbsp;Program_Error is propagated.</span></div>
<div class="paranum"><a name="p16">16/2</a></div>
<div class="Indented2"><span class="insert2">If implementation-defined 
circumstances prohibit the definition of an environment variable with 
the given name and value, then Constraint_Error is propagated.</span> 
</div>
<div class="paranum"><a name="p16.a">16.a/2</a></div>
<div class="Annotations"><span class="insert2"><B>Implementation defined: 
</B></span><span class="insert2">The circumstances where an environment 
variable cannot be defined.</span></div>
<div class="paranum"><a name="p17">17/2</a></div>
<div class="Indented2" style="margin-bottom: 0.9em"><span class="insert2">It 
is implementation defined whether there exist values for which the call 
Set(Name, Value) has the same effect as Clear (Name).</span>&nbsp;</div>
<div class="paranum"><a name="p17.a">17.a/2</a></div>
<div class="Annotations"><span class="insert2"><B>Implementation defined: 
</B></span><span class="insert2">Environment names for which Set has 
the effect of Clear.</span></div>
<div class="paranum"><a name="p18">18/2</a></div>
<div class="Examples"><span class="insert2"><B>procedure</B>&nbsp;Clear&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String);</span></div>
<div class="paranum"><a name="p19">19/3</a></div>
<div class="Indented2" style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0264-1.TXT">AI05-0264-1</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0269-1.TXT">AI05-0269-1</A></I>} 
<span class="insert2">If the external execution environment supports 
environment variables, then Clear deletes all existing environment&nbsp;</span><span class="insert3">variables</span><span class="insert2"></span><span class="insert2"><span class="delete3">&nbsp;variable</span></span><span class="insert2">&nbsp;with the given name. Otherwise</span><span class="insert3">,</span><span class="insert2">&nbsp;Program_Error is propagated.</span></div>
<div class="paranum"><a name="p20">20/2</a></div>
<div class="Examples"><span class="insert2"><B>procedure</B>&nbsp;Clear;</span></div>
<div class="paranum"><a name="p21">21/3</a></div>
<div class="Indented2" style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0264-1.TXT">AI05-0264-1</A></I>} 
<span class="insert2">If the external execution environment supports 
environment variables, then Clear deletes all existing environment variables. 
Otherwise</span><span class="insert3">,</span><span class="insert2">&nbsp;Program_Error is propagated.</span></div>
<div class="paranum"><a name="p22">22/3</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
<span class="insert2"><B>procedure</B>&nbsp;Iterate</span><span class="insert2"><span class="delete3">&nbsp;(</span></span><span class="insert2"><BR>
&nbsp;&nbsp;&nbsp;</span><span class="insert3">(</span><span class="insert2"></span><span class="insert2"><span class="delete3">&nbsp;&nbsp;</span></span><span class="insert2">Process&nbsp;:&nbsp;<B>not&nbsp;null&nbsp;access&nbsp;procedure</B>&nbsp;(Name,&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String));</span></div>
<div class="paranum"><a name="p23">23/3</a></div>
<div class="Indented2">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0264-1.TXT">AI05-0264-1</A></I>} 
<span class="insert2">If the external execution environment supports 
environment variables, then Iterate calls the subprogram designated by 
Process for each existing environment variable, passing the name and 
value of that environment variable. Otherwise</span><span class="insert3">,</span><span class="insert2">&nbsp;Program_Error is propagated.</span></div>
<div class="paranum"><a name="p24">24/2</a></div>
<div class="Indented2"><span class="insert2">If several environment variables 
exist that have the same name, Process is called once for each such variable.</span></div>

<H4 Class="centered">Bounded (Run-Time) Errors</H4>
<div class="paranum"><a name="p25">25/2</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"><A NAME="I7477"></A>It is a bounded error to call 
Value if more than one environment variable exists with the given name; 
the possible outcomes are that:</span>&nbsp;</div>
<div class="paranum"><a name="p26">26/2</a></div>
<div class="Bulleted"><span class="insert2">one of the values is returned, 
and that same value is returned in subsequent calls in the absence of 
changes to the environment; or</span></div>
<div class="paranum"><a name="p27">27/2</a></div>
<div class="Bulleted"><span class="insert2">Program_Error is propagated.</span> 
</div>

<H4 Class="centered">Erroneous Execution</H4>
<div class="paranum"><a name="p28">28/2</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"><A NAME="I7478"></A>Making calls to the procedures 
Set or Clear concurrently with calls to any subprogram of package Environment_Variables, 
or to any instantiation of Iterate, results in erroneous execution.</span></div>
<div class="paranum"><a name="p29">29/2</a></div>
<div class="Normal">&nbsp;<span class="insert2">Making calls to the procedures 
Set or Clear in the actual subprogram corresponding to the Process parameter 
of Iterate results in erroneous execution.</span>&nbsp;</div>

<H4 Class="centered">Documentation Requirements</H4>
<div class="paranum"><a name="p30">30/2</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2">An implementation shall document how the operations 
of this package behave if environment variables are changed by external 
mechanisms (for instance, calling operating system services).</span> 
</div>
<div class="paranum"><a name="p30.a">30.a/2</a></div>
<div class="Annotations"><span class="insert2"><B>Documentation Requirement: 
</B></span><span class="insert2">The behavior of package Environment_Variables 
when environment variables are changed by external mechanisms.</span></div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum"><a name="p31">31/2</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2">An implementation running on a system that does 
not support environment variables is permitted to define the operations 
of package Environment_Variables with the semantics corresponding to 
the case where the external execution environment does support environment 
variables. In this case, it shall provide a mechanism to initialize a 
nonempty set of environment variables prior to the execution of a partition.</span> 
</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p32">32/2</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2">If the execution environment supports subprocesses, 
the currently defined environment variables should be used to initialize 
the environment variables of a subprocess.</span>&nbsp;</div>
<div class="paranum"><a name="p32.a">32.a/2</a></div>
<div class="Annotations"><span class="insert2"><B>Implementation Advice: 
</B></span><span class="insert2">If the execution environment supports 
subprocesses, the current environment variables should be used to initialize 
the environment variables of a subprocess.</span></div>
<div class="paranum"><a name="p33">33/2</a></div>
<div class="Normal">&nbsp;<span class="insert2">Changes to the environment 
variables made outside the control of this package should be reflected 
immediately in the effect of the operations of this package. Changes 
to the environment variables made using this package should be reflected 
immediately in the external execution environment. This package should 
not perform any buffering of the environment variables.</span>&nbsp;</div>
<div class="paranum"><a name="p33.a">33.a/2</a></div>
<div class="Annotations"><span class="insert2"><B>Implementation Advice: 
</B></span><span class="insert2">Changes to the environment variables 
made outside the control of Environment_Variables should be reflected 
immediately.</span></div>

<H4 Class="centered">Extensions to Ada 95</H4>
<div class="paranum"><a name="p33.b">33.b/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<span class="insert2"><A NAME="I7479"></A>Package Environment_Variables 
is new.</span>&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 2005</H4>
<div class="paranum"><a name="p33.c">33.c/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0285-1.TXT">AI05-0285-1</A></I>} 
<span class="insert3"><A NAME="I7480"></A>A new overloaded function Value 
is added to Environment_Variables. If Environment_Variables is referenced 
in a <SPAN Class="swiss"><A HREF="AA-8-4.html#S0196">use_clause</A></SPAN>, 
and an entity <I>E</I> with the name Value is defined in a package that 
is also referenced in a <SPAN Class="swiss"><A HREF="AA-8-4.html#S0196">use_clause</A></SPAN>, 
the entity <I>E</I> may no longer be use-visible, resulting in errors. 
This should be rare and is easily fixed if it does occur.</span>&nbsp;</div>

</div>
<div class="navig"><A HREF="AA-TOC.html">Contents</A>&nbsp;
&nbsp;<A HREF="AA-0-4.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="AA-A-16-1.html">Previous</A>&nbsp;
&nbsp;<A HREF="AA-A-18.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
