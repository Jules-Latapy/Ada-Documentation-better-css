<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Package Locales</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <link rel="stylesheet" href="../styles.css">
<link rel="icon" href="../logo.svg"></HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV class="enTete"><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div class="navig" style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="aa-TOC.html">Contents</A>&nbsp;
<img src="../logo.svg" class="adaLogo" />&nbsp;<A HREF="aa-0-5.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="aa-A-18-32.html">Previous</A>&nbsp;
&nbsp;<A HREF="aa-B.html">Next</A>&nbsp;
</div>
<div class="main">
<H1>A.19 The Package Locales</H1>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
A <I>locale</I><A NAME="I8033"></A> identifies a geopolitical place or 
region and its associated language, which can be used to determine other 
internationalization-related characteristics.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
The library package Locales has the following declaration:&nbsp;</div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Examples"><B>package</B>&nbsp;Ada.Locales&nbsp;<B>is</B><A NAME="I8034"></A><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Preelaborate(Locales);<BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Remote_Types(Locales);</div>
<div class="paranum"><a name="p4">4/4</a></div>
<div class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0037-1.TXT">AI12-0037-1</A></I>} 
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I8035"></A>Language_Code&nbsp;<B>is&nbsp;new</B>&nbsp;String&nbsp;(1&nbsp;..&nbsp;3)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Dynamic_Predicate&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<B>for&nbsp;all</B>&nbsp;E&nbsp;<B>of</B>&nbsp;Language_Code&nbsp;=&gt;&nbsp;E&nbsp;<B>in</B>&nbsp;'a'&nbsp;..&nbsp;'z');<BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;<A NAME="I8036"></A>Country_Code&nbsp;<B>is&nbsp;new</B>&nbsp;String&nbsp;(1&nbsp;..&nbsp;2)<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Dynamic_Predicate&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<B>for&nbsp;all</B>&nbsp;E&nbsp;<B>of</B>&nbsp;Country_Code&nbsp;&nbsp;=&gt;&nbsp;E&nbsp;<B>in</B>&nbsp;'A'&nbsp;..&nbsp;'Z');</div>
<div class="paranum"><a name="p4.a">4.a/4</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0037-1.TXT">AI12-0037-1</A></I>} 
These types are derived from type String so that they can easily be converted 
to or from type String. That's important if one of these values needs 
to be input or displayed (via Text_IO, perhaps). We use the predicate 
to ensure that only possible component values are used. Ada does not 
allow converting between unrelated types with components that don't statically 
match, so we cannot declare new types with constrained components if 
we want conversions to or from type String.&nbsp;</div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<A NAME="I8037"></A>Language_Unknown&nbsp;:&nbsp;<B>constant</B>&nbsp;Language_Code&nbsp;:=&nbsp;&quot;und&quot;;<BR>
&nbsp;&nbsp;&nbsp;<A NAME="I8038"></A>Country_Unknown&nbsp;:&nbsp;<B>constant</B>&nbsp;Country_Code&nbsp;:=&nbsp;&quot;ZZ&quot;;</div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I8039"></A>Language&nbsp;<B>return</B>&nbsp;Language_Code;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I8040"></A>Country&nbsp;<B>return</B>&nbsp;Country_Code;</div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="Examples"><B>end</B>&nbsp;Ada.Locales;</div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0233-1.TXT">AI05-0233-1</A></I>} 
The <I>active locale</I><A NAME="I8041"></A><A NAME="I8042"></A> is the 
locale associated with the partition of the current task.</div>
<div class="paranum"><a name="p8.a">8.a/3</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0233-1.TXT">AI05-0233-1</A></I>} 
Some environments define both a system locale and the locale of the current 
user. For such environments, the active locale is that of current user 
if any; otherwise (as in a partition running on a server without a user), 
the system locale should be used.&nbsp;</div>
<div class="paranum"><a name="p9">9/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
Language_Code is a lower-case string representation of an ISO 639-3 alpha-3 
code that identifies a language.</div>
<div class="paranum"><a name="p9.a">9.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>Some common language codes 
are: &quot;eng&quot; &ndash; English; &quot;fra&quot; &ndash; French; 
&quot;deu&quot; &ndash; German; &quot;zho&quot; &ndash; Chinese. These 
are the same codes as used by POSIX systems. We considered including 
constants for the most common languages, but that was rejected as the 
likely source of continual arguments about the constant names and which 
languages are important enough to include.&nbsp;</div>
<div class="paranum"><a name="p10">10/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
Country_Code is an upper-case string representation of an ISO 3166-1 
alpha-2 code that identifies a country.</div>
<div class="paranum"><a name="p10.a">10.a/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>Some common country codes 
are: &quot;CA&quot; &ndash; Canada; &quot;FR&quot; &ndash; France; &quot;DE&quot; 
&ndash; Germany; &quot;IT&quot; &ndash; Italy; &quot;ES&quot; &ndash; 
Spain; &quot;GB&quot; &ndash; United Kingdom; &quot;US&quot; &ndash; 
United States. These are the same codes as used by POSIX systems. We 
didn't include any country constants for the same reasons that we didn't 
include any language constants.&nbsp;</div>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
Function Language returns the code of the language associated with the 
active locale. If the Language_Code associated with the active locale 
cannot be determined from the environment, then Language returns Language_Unknown.</div>
<div class="paranum"><a name="p12">12/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0248-1.TXT">AI05-0248-1</A></I>} 
Function Country returns the code of the country associated with the 
active locale. If the Country_Code associated with the active locale 
cannot be determined from the environment, then Country returns Country_Unknown.</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum"><a name="p12.a">12.a/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0127-2.TXT">AI05-0127-2</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0233-1.TXT">AI05-0233-1</A></I>} 
<A NAME="I8043"></A>Package Locales is new.&nbsp;</div>

<H4 Class="centered">Inconsistencies With Ada 2012</H4>
<div class="paranum"><a name="p12.b">12.b/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0037-1.TXT">AI12-0037-1</A></I>} 
<A NAME="I8044"></A><B>Corrigendum:</B> Types Language_Code and Country_Code 
are defined with predicates rather than constrained components so that 
they can be converted to/from type String. This changes the exception 
raised from Constraint_Error to Assertion_Error if an assignment is attempted 
with an incorrect value. This could only matter if there is a handler 
specifically for Constraint_Error surrounding this assignment; as this 
exception raise is certainly caused by a bug (why would anyone want to 
use invalid language or country codes?), such a handler seems very unlikely. 
(In addition, this is a new Ada 2012 package, so there is not likely 
to be a lot of code using it.)&nbsp;</div>

</div>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="aa-TOC.html">Contents</A>&nbsp;
<img src="../logo.svg" class="adaLogo" />&nbsp;<A HREF="aa-0-5.html">Index</A>&nbsp;
&nbsp;<A HREF="AA-STDS.html">References</A>&nbsp;
&nbsp;<A HREF="../RM-SRCH.html">Search</A>&nbsp;
&nbsp;<A HREF="aa-A-18-32.html">Previous</A>&nbsp;
&nbsp;<A HREF="aa-B.html">Next</A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
